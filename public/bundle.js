(()=>{"use strict";const t={open(){document.querySelector(".overlay").removeAttribute("hidden"),o.clearFields(),o.fixScroll()},close(){document.querySelector(".overlay").setAttribute("hidden",""),document.body.style.overflow="visible"}},e={countingProducts:document.querySelector(".countingProducts"),totalHtml:document.querySelector(".total"),sumQuantity(){let t=0;return r.array.forEach((e=>{const r=e.productsQuantity;t+=r})),t},sumPrice(){let t=0;return r.array.forEach((e=>{const r=e.productsQuantity,s=e.products;t+=s*r})),t},updateBalance(){const t=this.sumQuantity(),r=e.sumPrice();this.countingProducts.innerHTML=`${t} produtos`,this.totalHtml.innerHTML=`Total: ${s.formatPrice(r)}`}},r={array:[],deleteOne(t){r.array.splice(t,1),e.updateBalance(),o.initCards()},deleteAll(){e.countingProducts.innerHTML="0 produtos",e.totalHtml.innerHTML=`Total: ${s.formatPrice(0)}`,r.array.splice(0),o.initCards()},removeOn(){r.array.length>0?document.querySelector(".removeOn").removeAttribute("style"):document.querySelector(".removeOn").setAttribute("style","opacity: 0; visibility: hidden;")},createDiv(t){const e=document.querySelector(".sectionCards"),s=document.createElement("div");e.removeAttribute("style"),e.appendChild(s),s.classList.add("card"),s.innerHTML=r.innerHtml(t)},innerHtml(t){const e=r.array.indexOf(t),o=this.searchProductName(t.products).productsName,a=this.searchProductName(t.products).image,i=t.productsQuantity>1?"unidades":"unidade";return`\n            <a href="#" class="delete ${e}">\n                <img src = "./assets/trash.svg" alt = "Trash" class= "trash" >\n            </a >\n            <img src="${a}" alt="${o}">\n            <p>${o}</p>\n            <p>${t.productsQuantity} ${i} por ${s.formatPrice(t.products*t.productsQuantity)}</p>`},searchProductName(t){let e,r;switch(t){case 1151.1:e="Moto G9 Play",r="https://images-submarino.b2w.io/produtos/01/00/img/1962217/0/1962217075_1SZ.jpg";break;case 10377.93:e="Smart TV OLED 65'' LG",r="https://images-submarino.b2w.io/produtos/01/00/img/1735043/1/1735043183_1SZ.jpg";break;case 4699.99:e="Lenovo Ideapad L340",r="https://images-submarino.b2w.io/produtos/01/00/img/2430049/7/2430049779_1SZ.jpg";break;case 87.3:e="CyberPunk 2077-PS4",r="https://images-submarino.b2w.io/produtos/01/00/img/1466225/4/1466225463_1SZ.jpg";break;case 264.48:e="SSD 240gb Plus - Sandisk",r="https://images-submarino.b2w.io/produtos/01/00/images/134409/7/134409750P1.jpg";break;case 1265.25:e="Monitor LED 25'' Gamer LG",r="https://images-submarino.b2w.io/produtos/01/00/img/1729775/6/1729775687_4GG.jpg";break;case 3403.08:e="Xbox Series S",r="https://images-submarino.b2w.io/produtos/01/00/img/2117190/5/2117190565P1.jpg";break;case 598.5:e="Micro-ondas Consul",r="https://images-submarino.b2w.io/produtos/01/00/img7/01/00/item/116796/3/116796362_5GG.jpg";break;case 439.99:e="Fritadeira Sem Óleo Oster",r="https://images-submarino.b2w.io/produtos/01/00/img/1481124/3/1481124311P1.jpg";break;case 239.99:e="Liquidificador Philips",r="https://images-submarino.b2w.io/produtos/01/00/img/134532/8/134532811_4GG.jpg";break;case 2922.99:e="Playstation 4 + 3 Games",r="https://images-submarino.b2w.io/produtos/01/00/img/2317562/0/2317562028P1.jpg";break;case 159.6:e="Mouse Gamer Redragon Chroma",r="https://images-submarino.b2w.io/produtos/01/00/img/46419/3/46419319_3GG.jpg";break;case 339:e="Teclado Gamer HyperX Alloy Core",r="https://images-submarino.b2w.io/produtos/01/00/img/98025/6/98025652_1SZ.jpg";break;case 279.99:e="Headset Gamer Havit H2015d",r="https://images-submarino.b2w.io/produtos/01/00/img/1809794/0/1809794044_1SZ.jpg";break;case 235.83:e="The Last Of Us Part II - PS4",r="https://images-submarino.b2w.io/produtos/01/00/img/1459449/0/1459449098_1SZ.jpg"}return{productsName:e,image:r}}},s={formatPrice:t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},o={productsQuantity:document.getElementById("productsQuantity"),products:document.getElementById("products"),catchValues(){return{productsQuantity:Number(this.productsQuantity.value),products:Number(this.products.value)}},checkFields(){if(""===this.catchValues().products||0==this.catchValues().products||""===this.catchValues().productsQuantity||this.catchValues().productsQuantity<=0)throw Error},clearFields(){this.products.value="",this.productsQuantity.value="",document.querySelector(".divImage").innerHTML="",document.querySelector(".quantity").innerHTML="0 unidades",document.querySelector(".cost").innerHTML="Custo: R$ 0,00"},initCards(){document.querySelector(".sectionCards").innerHTML="",r.array.forEach((t=>{r.createDiv(t)})),document.querySelectorAll(".delete").forEach(((t,e)=>{t.addEventListener("click",(()=>{r.deleteOne(e)}))}))},fixScroll(){r.array.length>=3&&(document.body.style.overflow="hidden")},submit(s){s.preventDefault();try{const s=this.catchValues();this.checkFields(),r.array.push(s),e.updateBalance(),r.removeOn(),o.initCards(),t.close()}catch(t){setTimeout((()=>{0==this.catchValues().products&&this.products.setAttribute("style","box-shadow: 0 0 6px #ee2828;"),0==this.catchValues().products&&this.productsQuantity.setAttribute("style","box-shadow: 0 0 6px #ee2828;");const t=document.body.appendChild(document.createElement("div"));t.appendChild(document.createElement("div")).innerHTML="Por favor insira valores válidos nos campos",t.className="errorMenssage",setTimeout((()=>{t.classList.add("on")}),100)}),100),setTimeout((()=>{document.querySelector(".errorMenssage").classList.remove("on"),setTimeout((()=>{document.querySelector(".errorMenssage").remove()}),1e3),this.products.setAttribute("style","box-shadow: none;"),this.productsQuantity.setAttribute("style","box-shadow: none;")}),4e3)}}};document.querySelector(".addButton").addEventListener("click",(e=>{t.open()})),document.querySelector(".removeButton").addEventListener("click",(t=>{r.deleteAll()})),document.querySelector(".actions").addEventListener("click",(e=>{"A"===e.target.tagName&&t.close()})),document.querySelectorAll("label").forEach((t=>{t.nextElementSibling.addEventListener("focus",(()=>{a()}))})),document.querySelector(".delete"),document.querySelector("form").addEventListener("submit",(t=>{o.submit(t)}));const a=()=>{const t=document.querySelector(".cost"),e=document.querySelector(".quantity");o.productsQuantity.oninput=function(){o.catchValues().productsQuantity>=1e6&&Number(o.productsQuantity.value=o.catchValues().productsQuantity.toString().slice(0,-1));const r=o.catchValues().productsQuantity>1?" Unidades":" Unidade";if(o.catchValues().productsQuantity<=0){const a=o.catchValues().products*o.catchValues().productsQuantity;t.innerHTML="Custo: "+s.formatPrice(a),e.innerHTML=0+r}else{const a=o.catchValues().products*o.catchValues().productsQuantity;t.innerHTML="Custo: "+s.formatPrice(a),e.innerHTML=o.catchValues().productsQuantity+r}},o.products.oninput=function(){if(o.catchValues().productsQuantity<=0)t.innerHTML=`Custo: ${s.formatPrice(0)}`;else{const e=o.catchValues().products*o.catchValues().productsQuantity;t.innerHTML="Custo: "+s.formatPrice(e)}document.querySelector(".divImage").innerHTML="";const e=document.querySelector(".divImage").appendChild(document.createElement("img"));e.classList.add("img"),e.setAttribute("src",r.searchProductName(o.catchValues().products).image)}};window.onload=setInterval((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: -770px;opacity: 0; visibility: hidden;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: 0;opacity: 1; visibility: visible;transition: .5s;"),setTimeout((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: 0;opacity: 1; visibility: visible;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: -770px;opacity: 0; visibility: hidden;transition: .5s;")}),4e3)}),8e3)})();