(()=>{"use strict";const e=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),t={deleteOne(e){o.splice(e,1),s.updateBalance(),i()},deleteAll(){s.countingProducts.innerHTML="0 produtos",s.totalHtml.innerHTML=`Total: ${e(0)}`,o.splice(0),i()},createDiv(t){const o=document.querySelector(".sectionCards"),i=document.createElement("div");o.removeAttribute("style"),o.appendChild(i),i.classList.add("card"),i.innerHTML=function(t){const{productName:o,value:i,image:s}=t;return`\n        <img src="${s}" alt="${o}">\n        <p>${o}</p>\n        <p>${e(i)}</p>`}(t)}},o=[];function i(){const i=document.querySelector("#cart");if(i.innerHTML="",0===o.length)return i.innerHTML="Suas compras estarão aqui no futuro!",void(i.className="empty");i.className="",o.forEach((t=>{const o=document.createElement("div");o.classList.add("card"),o.innerHTML=function(t){const{productName:o,value:i,image:s,productsQuantity:r}=t;return`\n            <a href="#" class="delete">\n                <img src = "./assets/trash.svg" alt = "Trash" class= "trash" >\n            </a >\n            <img src="${s}" alt="${o}">\n            <p>${o}</p>\n            <p>${r} ${r>1?"unidades":"unidade"} por ${e(i*r)}</p>`}(t),i.appendChild(o)})),document.querySelectorAll(".delete").forEach(((e,o)=>{e.addEventListener("click",(()=>{t.deleteOne(o)}))}))}const s={countingProducts:document.querySelector(".countingProducts"),totalHtml:document.querySelector(".total"),sumQuantity(){let e=0;return o.forEach((t=>{const o=t.productsQuantity;e+=o})),e},sumPrice(){let e=0;return o.forEach((t=>{const o=t.productsQuantity,i=t.value;e+=i*o})),e},updateBalance(){const t=this.sumQuantity(),o=s.sumPrice();this.countingProducts.innerHTML=`${t} produtos`,this.totalHtml.innerHTML=`Total: ${e(o)}`}},r={productsQuantity:document.getElementById("productsQuantity"),catchValues(){return{productsQuantity:Number(this.productsQuantity.value)}},checkFields(){if(""===this.catchValues().productsQuantity||this.catchValues().productsQuantity<=0)throw Error},clearFields(){this.productsQuantity.value="",document.querySelector(".divImage").innerHTML="",document.querySelector(".quantity").innerHTML="0 unidades",document.querySelector(".cost").innerHTML="Custo: R$ 0,00"},submit(e,t){e.preventDefault();try{const e={...this.catchValues(),...t};this.checkFields(),o.push(e),s.updateBalance(),a.close()}catch(e){this.productsQuantity.style.boxShadow="0 0 6px #ee2828",setTimeout((()=>{const e=document.body.appendChild(document.createElement("div"));e.appendChild(document.createElement("div")).innerHTML="Por favor insira valores válidos nos campos",e.className="errorMenssage",setTimeout((()=>{e.classList.add("on")}),100)}),100),this.productsQuantity.addEventListener("focus",(()=>{this.productsQuantity.style.boxShadow="none"})),setTimeout((()=>{document.querySelector(".errorMenssage").classList.remove("on"),setTimeout((()=>{document.querySelector(".errorMenssage").remove()}),1e3)}),4e3)}}},a={open(){document.querySelector(".overlay").classList.add("active"),document.body.style.overflow="hidden",r.clearFields()},close(){document.querySelector(".overlay").classList.remove("active"),document.body.style.overflow="visible"}},n={divMenu:document.querySelector("div.menu"),sideBarElement:document.querySelector(".sideBar"),menu:document.querySelector(".menu"),openClose(){this.divMenu.classList.toggle("active"),this.sideBarElement.classList.toggle("active"),this.menu.classList.toggle("fixed")}},u=[{value:87.3,productName:"CyberPunk 2077 - PS4",image:"https://images-submarino.b2w.io/produtos/01/00/img/1466225/4/1466225463_1SZ.jpg"},{value:439.99,productName:"Fritadeira Sem Óleo Oster",image:"https://images-submarino.b2w.io/produtos/01/00/img/1481124/3/1481124311P1.jpg"},{value:279.99,productName:"Headset Gamer Havit H2015d",image:"https://images-submarino.b2w.io/produtos/01/00/img/1809794/0/1809794044_1SZ.jpg"},{value:4699.99,productName:"Lenovo Ideapad L340",image:"https://images-submarino.b2w.io/produtos/01/00/img/2430049/7/2430049779_1SZ.jpg"},{value:239.99,productName:"Liquidificador Philips",image:"https://images-submarino.b2w.io/produtos/01/00/img/134532/8/134532811_4GG.jpg"},{value:598.5,productName:"Micro-ondas Consul",image:"https://images-submarino.b2w.io/produtos/01/00/img7/01/00/item/116796/3/116796362_5GG.jpg"},{value:1265.25,productName:"Monitor LED 25'' Gamer LG",image:"https://images-submarino.b2w.io/produtos/01/00/img/1729775/6/1729775687_4GG.jpg"},{value:1151.1,productName:"Moto G9 Play",image:"https://images-submarino.b2w.io/produtos/01/00/img/1962217/0/1962217075_1SZ.jpg"},{value:159.6,productName:"Mouse Gamer Redragon Chroma",image:"https://images-submarino.b2w.io/produtos/01/00/img/46419/3/46419319_3GG.jpg"},{value:2922.99,productName:"Playstation 4 + 3 Games",image:"https://images-submarino.b2w.io/produtos/01/00/img/2317562/0/2317562028P1.jpg"},{value:10377.93,productName:"Smart TV OLED 65'' LG",image:"https://images-submarino.b2w.io/produtos/01/00/img/1735043/1/1735043183_1SZ.jpg"},{value:339,productName:"Teclado Gamer HyperX Alloy Core",image:"https://images-submarino.b2w.io/produtos/01/00/img/98025/6/98025652_1SZ.jpg"},{value:235.83,productName:"The Last Of Us Part II - PS4",image:"https://images-submarino.b2w.io/produtos/01/00/img/1459449/0/1459449098_1SZ.jpg"},{value:264.48,productName:"SSD 240 gb Plus - Sandisk",image:"https://images-submarino.b2w.io/produtos/01/00/images/134409/7/134409750P1.jpg"},{value:3403.08,productName:"Xbox Series S",image:"https://images-submarino.b2w.io/produtos/01/00/img/2117190/5/2117190565P1.jpg"}];let c;document.querySelector(".cartIcon").addEventListener("click",(()=>{document.querySelector(".overlayCart").classList.add("active"),document.body.style.overflow="hidden",document.querySelector("#closeWindow").addEventListener("click",(()=>{document.querySelector(".overlayCart").classList.remove("active"),document.body.style.overflow="visible"})),i()})),document.querySelector("div.menu").addEventListener("click",(()=>{n.openClose()})),document.querySelector(".actions").addEventListener("click",(e=>{"A"===e.target.tagName&&a.close()})),document.querySelector(".sectionCards").innerHTML="",u.forEach((e=>{t.createDiv(e)})),document.querySelectorAll(".card").forEach(((t,o)=>{const{value:i,image:s}=u[o];t.addEventListener("click",(()=>{a.open(),function(t,o){document.querySelector(".cost").innerHTML=`Custo: ${e(0)}`,function(e){const t=document.querySelector(".divImage"),o=document.createElement("img");t.appendChild(o),o.classList.add("img"),o.setAttribute("src",e)}(o),function(t,o=100){const i=document.querySelector(".cost"),s=document.querySelector(".quantity");document.querySelector('input[type="number"]').addEventListener("focus",(()=>{r.productsQuantity.oninput=function(){r.catchValues().productsQuantity>=o&&Number(r.productsQuantity.value=o);const a=r.catchValues().productsQuantity>1?" Unidades":" Unidade",n=t*r.catchValues().productsQuantity;if(r.catchValues().productsQuantity<=0)return i.innerHTML="Custo: "+e(n),void(s.innerHTML=0+a);i.innerHTML="Custo: "+e(n),s.innerHTML=r.catchValues().productsQuantity+a}}))}(t)}(i,s),c=u[o]}))})),document.querySelector("form").addEventListener("submit",(e=>{r.submit(e,c)})),window.onload=setInterval((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: -770px;opacity: 0; visibility: hidden;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: 0;opacity: 1; visibility: visible;transition: .5s;"),setTimeout((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: 0;opacity: 1; visibility: visible;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: -770px;opacity: 0; visibility: hidden;transition: .5s;")}),4e3)}),8e3)})();