(()=>{"use strict";const e=[{value:87.3,productName:"CyberPunk 2077 - PS4",stock:o(1,200)},{value:439.99,productName:"Fritadeira Sem Óleo Oster",stock:o(1,200)},{value:279.99,productName:"Headset Gamer Havit H2015d",stock:o(1,200)},{value:4699.99,productName:"Lenovo Ideapad L340",stock:o(1,200)},{value:239.99,productName:"Liquidificador Philips",stock:o(1,200)},{value:598.5,productName:"Micro-ondas Consul",stock:o(1,200)},{value:1265.25,productName:"Monitor LED 25'' Gamer LG",stock:o(1,200)},{value:1151.1,productName:"Moto G9 Play",stock:o(1,200)},{value:159.6,productName:"Mouse Gamer Redragon Chroma",stock:o(1,200)},{value:2922.99,productName:"Playstation 4 + 3 Games",stock:o(1,200)},{value:10377.93,productName:"Smart TV OLED 65'' LG",stock:o(1,200)},{value:339,productName:"Teclado Gamer HyperX Alloy Core",stock:o(1,200)},{value:235.83,productName:"The Last Of Us Part II - PS4",stock:o(1,200)},{value:264.48,productName:"SSD 240 gb Plus - Sandisk",stock:o(1,200)},{value:3403.08,productName:"Xbox Series S",stock:o(1,200)}],t=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});function o(e,t){return Math.floor(Math.random()*(t-e)+e)}const c={deleteOne(e){r.splice(e,1),a.updateBalance(),n()},deleteAll(){a.countingProducts.innerHTML="0 produtos",a.totalHtml.innerHTML=`Total: ${t(0)}`,r.splice(0),n()},createDiv(e,o){const c=document.querySelector(".section-cards"),r=document.createElement("div");c.removeAttribute("style"),c.appendChild(r),r.classList.add("card"),r.style="--x:"+.2*o+"s",r.innerHTML=function(e){const{productName:o,value:c}=e;return`\n        <img src="./images/${o}.jpg" alt="${o}">\n        <p>${o}</p>\n        <p>${t(c)}</p>`}(e)},stockZero(e){document.querySelector(".section-cards .card:nth-child("+(e+1)+")").classList.add("empty")},stockExist(e){document.querySelector(".section-cards .card:nth-child("+(e+1)+")").classList.remove("empty")}},r=[];function n(){const o=document.querySelector(".cart-overlay__content__cart");!function(){const e=document.querySelector(".header__cart");r.length>0?e.classList.add("filled"):e.classList.remove("filled")}(),function(e){if(e.innerHTML="",0===r.length)return e.innerHTML="Suas compras estarão aqui no futuro!",void e.classList.add("empty");e.classList.remove("empty")}(o),function(e){r.forEach(((o,c)=>{const r=document.createElement("div");r.classList.add("card"),r.innerHTML=function(e){const{productName:o,value:c,productsQuantity:r}=e;return`\n            <a href="#" class="delete">\n                <?xml version="1.0" encoding="UTF-8"?>\n                <svg version="1.1" viewBox="0 -256 1792 1792" xmlns="http://www.w3.org/2000/svg" class= "trash">\n                    <g transform="matrix(1 0 0 -1 197.42 1255.1)">\n                        <path d="m512 800v-576q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v576q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-576q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v576q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-576q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v576q0 14 9 23t23 9h64q14 0 23-9t9-23zm128-724v948h-896v-948q0-22 7-40.5t14.5-27 10.5-8.5h832q3 0 10.5 8.5t14.5 27 7 40.5zm-672 1076h448l-48 117q-7 9-17 11h-317q-10-2-17-11zm928-32v-64q0-14-9-23t-23-9h-96v-948q0-83-47-143.5t-113-60.5h-832q-66 0-113 58.5t-47 141.5v952h-96q-14 0-23 9t-9 23v64q0 14 9 23t23 9h309l70 167q15 37 54 63t79 26h320q40 0 79-26t54-63l70-167h309q14 0 23-9t9-23z" fill="currentColor"/>\n                    </g>\n                </svg>\n            </a>\n            <img src="./images/${o}.jpg" alt="${o}">\n            <p>${o}</p>\n            <p>${r} ${r>1?"unidades":"unidade"} por ${t(c*r)}</p>`}(o),r.style="--x:"+.2*c+"s",e.appendChild(r)}))}(o),document.querySelectorAll(".delete").forEach(((t,o)=>{t.addEventListener("click",(()=>{const t=r[o],n=t.productName;e.forEach(((o,r)=>{o.productName===n&&function(t,o){const r=e[o],n=r.stock+t.productsQuantity;n>t.stock||(r.stock=n,r.stock>0&&c.stockExist(o))}(t,r)})),c.deleteOne(o)}))}))}const a={countingProducts:document.querySelector(".counting-products"),totalHtml:document.querySelector(".total"),sumQuantity(){let e=0;return r.forEach((t=>{const o=t.productsQuantity;e+=o})),e},sumPrice(){let e=0;return r.forEach((t=>{const o=t.productsQuantity,c=t.value;e+=c*o})),e},updateBalance(){const e=this.sumQuantity(),o=this.sumPrice();this.countingProducts.innerHTML=`${e} produtos`,this.totalHtml.innerHTML=`Total: ${t(o)}`}},u={form:document.querySelector(".form-overlay__form"),productsQuantity:document.getElementById("productsQuantity"),catchValues(){return{productsQuantity:Number(this.productsQuantity.value)}},checkFields(){if(""===this.catchValues().productsQuantity||this.catchValues().productsQuantity<=0)throw Error},clearFields(){this.productsQuantity.value="",document.querySelector(".form-overlay__form__img").innerHTML="",document.querySelector(".form-overlay__form__calculation__quantity").innerHTML="0 unidades",document.querySelector(".form-overlay__form__calculation__cost").innerHTML="Custo: R$ 0,00"},pushToCart(e){let[t,o]=[!1,-1];r.forEach((({productName:c},r)=>{c===e.productName&&(t=!0,o=r)})),t?r[o].productsQuantity+=e.productsQuantity:r.push(e)},submit(t){try{const o={...this.catchValues(),...t};this.checkFields(),this.pushToCart(o),a.updateBalance(),n(),s.close("form"),function(t,o){const r=e.indexOf(t),n=e[r],a=n.stock-o;a<0||(n.stock=a,n.stock<=0&&c.stockZero(r))}(t,o.productsQuantity)}catch(e){console.error(e);const t=window.screen.height,o=window.scrollY;this.productsQuantity.style.boxShadow="0 0 6px #ee2828",setTimeout((()=>{const e=document.body.appendChild(document.createElement("div"));e.appendChild(document.createElement("div")).innerHTML="Por favor insira valores válidos no campo",e.className="errorMenssage",e.style.top=.25*t+o+"px",setTimeout((()=>{e.classList.add("on")}),100)}),100),this.productsQuantity.addEventListener("focus",(()=>{this.productsQuantity.style.boxShadow="none"})),setTimeout((()=>{document.querySelector(".errorMenssage").classList.remove("on"),setTimeout((()=>{document.querySelector(".errorMenssage").remove(),this.productsQuantity.style.boxShadow="none"}),1e3)}),4e3)}}},s={form:document.querySelector(".form-overlay"),formConfirmDelete:document.querySelector(".form-overlay-confirm-delete"),cart:document.querySelector(".cart-overlay"),sideBar:document.querySelector(".overlay-side-bar"),menu:document.querySelector(".header__menu"),body:document.querySelector("body"),open(e){"form"===e&&u.clearFields(),this[e].classList.add("active")},close(e){this[e].classList.remove("active")},openClose(){this.body.classList.toggle("menu--active"),this.menu.classList.toggle("active"),this.sideBar.classList.toggle("active")}};function l(e,o){const c=document.querySelector(".form-overlay__form__calculation__cost"),r=document.querySelector(".form-overlay__form__calculation__quantity"),n=document.querySelector(".stock"),{productsQuantity:a}=u.catchValues(),s=a>1?" Unidades":" Unidade",l=e*a,i=o-a;if(a<=0)return c.innerHTML="Custo: "+t(l),r.innerHTML=0+s,void(n.innerHTML="Estoque: "+o);c.innerHTML="Custo: "+t(l),r.innerHTML=a+s,n.innerHTML="Estoque: "+i}function i(e,t){localStorage.setItem(e,t)}const d=document.querySelector("body"),m=document.querySelector(".choose-theme__toggle"),y=document.querySelector("#theme");function p(){d.classList.toggle("dark"),i("theme",d.classList.contains("dark")?"dark":"light")}let v;const h=[document.querySelector(".form-overlay__form__header img"),document.querySelector(".form-overlay-confirm-delete__form__header img")];document.querySelector(".header__cart").addEventListener("click",(()=>{s.open("cart"),document.querySelector(".close-window-icon").addEventListener("click",(()=>{s.close("cart")})),n()})),document.querySelector(".header__menu").addEventListener("click",(()=>{s.openClose()})),h[0].addEventListener("click",(()=>{s.close("form")})),h[1].addEventListener("click",(()=>{s.close("formConfirmDelete")})),document.querySelector(".section-cards").innerHTML="",e.forEach(((e,t)=>{c.createDiv(e,t)})),document.querySelectorAll(".card").forEach(((o,c)=>{o.addEventListener("click",(()=>{v=e[c],function(o){const c=e.indexOf(o),{value:r,productName:n,stock:a}=e[c];document.querySelector(".form-overlay__form__calculation__cost").innerHTML=`Custo: ${t(0)}`,a<=0||(s.open("form"),function(e){const t=document.querySelector(".form-overlay__form__img"),o=document.createElement("img");t.appendChild(o),o.className="img",o.src="./images/"+e+".jpg"}(n),function(e){const t=document.querySelector('input[type="number"]');let o=document.querySelector(".stock");o||(o=document.createElement("p")),o.className="stock",o.innerText="Estoque: "+e,t.parentElement.insertAdjacentElement("afterend",o)}(a),function(e,t){document.querySelector('input[type="number"]').addEventListener("focus",(()=>{u.productsQuantity.oninput=function(){u.catchValues().productsQuantity>=t&&Number(u.productsQuantity.value=t),l(e,t)}}))}(r,a),function(e,t){const o=document.querySelector(".form-overlay .more"),c=document.querySelector(".form-overlay .less"),r=u.productsQuantity;o.onclick=function(){r.value>=t||(r.value=Number(r.value)+1,l(e,t))},c.onclick=function(){r.value<=0||(r.value=Number(r.value)-1,l(e,t),r.value<1&&s.close("form"))}}(r,a),function(e,t){u.productsQuantity.value=1,l(e,t)}(r,a))}(v)}))})),function(){switch("theme",localStorage.getItem("theme")){case"dark":p();break;default:i("theme","light")}}(),m.addEventListener("click",(()=>{p()})),y.addEventListener("input",(()=>{p()})),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),u.submit(v)}))})();
//# sourceMappingURL=bundle.js.map