(()=>{"use strict";const t=t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),e={array:[],deleteOne(t){e.array.splice(t,1),s.updateBalance(),r.initCards()},deleteAll(){s.countingProducts.innerHTML="0 produtos",s.totalHtml.innerHTML=`Total: ${t(0)}`,e.array.splice(0),r.initCards()},removeOn(){e.array.length>0?document.querySelector(".removeOn").removeAttribute("style"):document.querySelector(".removeOn").setAttribute("style","opacity: 0; visibility: hidden;")},createDiv(t){const s=document.querySelector(".sectionCards"),r=document.createElement("div");s.removeAttribute("style"),s.appendChild(r),r.classList.add("card"),r.innerHTML=e.innerHtml(t)},innerHtml(s){const r=e.array.indexOf(s),{productsName:o}=this.searchProductName(s.products),a=this.searchProductName(s.products).image,i=s.productsQuantity>1?"unidades":"unidade";return`\n            <a href="#" class="delete ${r}">\n                <img src = "./assets/trash.svg" alt = "Trash" class= "trash" >\n            </a >\n            <img src="${a}" alt="${o}">\n            <p>${o}</p>\n            <p>${s.productsQuantity} ${i} por ${t(s.products*s.productsQuantity)}</p>`},searchProductName(t){let e,s;switch(t){case 1151.1:e="Moto G9 Play",s="https://images-submarino.b2w.io/produtos/01/00/img/1962217/0/1962217075_1SZ.jpg";break;case 10377.93:e="Smart TV OLED 65'' LG",s="https://images-submarino.b2w.io/produtos/01/00/img/1735043/1/1735043183_1SZ.jpg";break;case 4699.99:e="Lenovo Ideapad L340",s="https://images-submarino.b2w.io/produtos/01/00/img/2430049/7/2430049779_1SZ.jpg";break;case 87.3:e="CyberPunk 2077-PS4",s="https://images-submarino.b2w.io/produtos/01/00/img/1466225/4/1466225463_1SZ.jpg";break;case 264.48:e="SSD 240gb Plus - Sandisk",s="https://images-submarino.b2w.io/produtos/01/00/images/134409/7/134409750P1.jpg";break;case 1265.25:e="Monitor LED 25'' Gamer LG",s="https://images-submarino.b2w.io/produtos/01/00/img/1729775/6/1729775687_4GG.jpg";break;case 3403.08:e="Xbox Series S",s="https://images-submarino.b2w.io/produtos/01/00/img/2117190/5/2117190565P1.jpg";break;case 598.5:e="Micro-ondas Consul",s="https://images-submarino.b2w.io/produtos/01/00/img7/01/00/item/116796/3/116796362_5GG.jpg";break;case 439.99:e="Fritadeira Sem Óleo Oster",s="https://images-submarino.b2w.io/produtos/01/00/img/1481124/3/1481124311P1.jpg";break;case 239.99:e="Liquidificador Philips",s="https://images-submarino.b2w.io/produtos/01/00/img/134532/8/134532811_4GG.jpg";break;case 2922.99:e="Playstation 4 + 3 Games",s="https://images-submarino.b2w.io/produtos/01/00/img/2317562/0/2317562028P1.jpg";break;case 159.6:e="Mouse Gamer Redragon Chroma",s="https://images-submarino.b2w.io/produtos/01/00/img/46419/3/46419319_3GG.jpg";break;case 339:e="Teclado Gamer HyperX Alloy Core",s="https://images-submarino.b2w.io/produtos/01/00/img/98025/6/98025652_1SZ.jpg";break;case 279.99:e="Headset Gamer Havit H2015d",s="https://images-submarino.b2w.io/produtos/01/00/img/1809794/0/1809794044_1SZ.jpg";break;case 235.83:e="The Last Of Us Part II - PS4",s="https://images-submarino.b2w.io/produtos/01/00/img/1459449/0/1459449098_1SZ.jpg"}return{productsName:e,image:s}}},s={countingProducts:document.querySelector(".countingProducts"),totalHtml:document.querySelector(".total"),sumQuantity(){let t=0;return e.array.forEach((e=>{const s=e.productsQuantity;t+=s})),t},sumPrice(){let t=0;return e.array.forEach((e=>{const s=e.productsQuantity,r=e.products;t+=r*s})),t},updateBalance(){const e=this.sumQuantity(),r=s.sumPrice();this.countingProducts.innerHTML=`${e} produtos`,this.totalHtml.innerHTML=`Total: ${t(r)}`}},r={productsQuantity:document.getElementById("productsQuantity"),products:document.getElementById("products"),catchValues(){return{productsQuantity:Number(this.productsQuantity.value),products:Number(this.products.value)}},checkFields(){if(""===this.catchValues().products||0==this.catchValues().products||""===this.catchValues().productsQuantity||this.catchValues().productsQuantity<=0)throw Error},clearFields(){this.products.value="",this.productsQuantity.value="",document.querySelector(".divImage").innerHTML="",document.querySelector(".quantity").innerHTML="0 unidades",document.querySelector(".cost").innerHTML="Custo: R$ 0,00"},initCards(){document.querySelector(".sectionCards").innerHTML="",e.array.forEach((t=>{e.createDiv(t)})),document.querySelectorAll(".delete").forEach(((t,s)=>{t.addEventListener("click",(()=>{e.deleteOne(s)}))}))},fixScroll(){const{length:t}=e.array;t>=3&&(document.body.style.overflow="hidden")},submit(t){t.preventDefault();try{const t=this.catchValues();this.checkFields(),e.array.push(t),s.updateBalance(),e.removeOn(),r.initCards(),o.close()}catch(t){setTimeout((()=>{0==this.catchValues().products&&this.products.setAttribute("style","box-shadow: 0 0 6px #ee2828;"),0==this.catchValues().products&&this.productsQuantity.setAttribute("style","box-shadow: 0 0 6px #ee2828;");const t=document.body.appendChild(document.createElement("div"));t.appendChild(document.createElement("div")).innerHTML="Por favor insira valores válidos nos campos",t.className="errorMenssage",setTimeout((()=>{t.classList.add("on")}),100)}),100),setTimeout((()=>{document.querySelector(".errorMenssage").classList.remove("on"),setTimeout((()=>{document.querySelector(".errorMenssage").remove()}),1e3),this.products.setAttribute("style","box-shadow: none;"),this.productsQuantity.setAttribute("style","box-shadow: none;")}),4e3)}}},o={open(){document.querySelector(".overlay").removeAttribute("hidden"),r.clearFields(),r.fixScroll()},close(){document.querySelector(".overlay").setAttribute("hidden",""),document.body.style.overflow="visible"}},a={divMenu:document.querySelector("div.menu"),sideBarElement:document.querySelector(".sideBar"),openClose(){this.divMenu.classList.toggle("active"),this.sideBarElement.classList.toggle("active")}};document.querySelector("div.menu").addEventListener("click",(()=>{a.openClose()})),document.querySelector(".addButton").addEventListener("click",(()=>{o.open()})),document.querySelector(".removeButton").addEventListener("click",(()=>{e.deleteAll()})),document.querySelector(".actions").addEventListener("click",(t=>{"A"===t.target.tagName&&o.close()})),document.querySelectorAll("label").forEach((t=>{t.nextElementSibling.addEventListener("focus",(()=>{i()}))})),document.querySelector("form").addEventListener("submit",(t=>{r.submit(t)}));const i=()=>{const s=document.querySelector(".cost"),o=document.querySelector(".quantity");r.productsQuantity.oninput=function(){r.catchValues().productsQuantity>=1e6&&Number(r.productsQuantity.value=r.catchValues().productsQuantity.toString().slice(0,-1));const e=r.catchValues().productsQuantity>1?" Unidades":" Unidade";if(r.catchValues().productsQuantity<=0){const a=r.catchValues().products*r.catchValues().productsQuantity;s.innerHTML="Custo: "+t(a),o.innerHTML=0+e}else{const a=r.catchValues().products*r.catchValues().productsQuantity;s.innerHTML="Custo: "+t(a),o.innerHTML=r.catchValues().productsQuantity+e}},r.products.oninput=function(){if(r.catchValues().productsQuantity<=0)s.innerHTML=`Custo: ${t(0)}`;else{const e=r.catchValues().products*r.catchValues().productsQuantity;s.innerHTML="Custo: "+t(e)}const o=document.querySelector(".divImage");o.innerHTML="";const a=document.createElement("img");o.appendChild(a),a.classList.add("img"),a.setAttribute("src",e.searchProductName(r.catchValues().products).image)}};window.onload=setInterval((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: -770px;opacity: 0; visibility: hidden;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: 0;opacity: 1; visibility: visible;transition: .5s;"),setTimeout((()=>{document.querySelector(".brandIcon1").setAttribute("style",";top: 0;opacity: 1; visibility: visible;transition: .5s;"),document.querySelector(".brandIcon2").setAttribute("style","top: -770px;opacity: 0; visibility: hidden;transition: .5s;")}),4e3)}),8e3)})();